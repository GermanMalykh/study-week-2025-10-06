# Petstore
- https://petstore.swagger.io/

## 1. Цель и объём

**Цель:** спроектировать минимально достаточное покрытие API для операций управления питомцем и заказом магазина.

**В Scope (обязательные):**

- `POST /v2/pet` — создание/замена сущности Pet.

- `GET /v2/pet/{id}` — получение Pet по идентификатору.

- `DELETE /v2/pet/{id}` — удаление Pet.

- `POST /v2/store/order` — создание заказа.

- `GET /v2/store/order/{orderId}` — получение заказа.


**Out of Scope (на сегодня):**

- Поиск питомцев по статусу, загрузка изображений.

- Изменение заказа/удаление заказа.

- Авторизация/статистика.


## 2. Бизнес-правила и допущения

> Если фактическое поведение демо-Petstore расходится — фиксируй в разделе _Отклонения_.

### 2.1. Pet

- `id`: целое положительное, уникальное в пределах сервиса.

- `name`: непустая строка (минимальная длина ≥ 1).

- `status`: строгий перечислимый тип: `available | pending | sold`.

- Допустимы вспомогательные поля (`category`, `tags`, `photoUrls`) — требования к ним минимальные, если явно не тестируются.


### 2.2. Order

- `id`: целое положительное, уникальное.

- `petId`: ссылка на существующего Pet (допущение: желательно существующий, но сервис может это не валидировать — зафиксировать факт).

- `quantity`: целое число, нижняя граница ≥ 0.

- `status`: бизнес-состояние заказа (принимаем фактический набор из API).

- `complete`: булево.


### 2.3. Коды ответов (ожидания по протоколу)

- Успех операций создания/получения/удаления — `2xx` (конкретный код зависит от сервиса).

- Клиентские ошибки валидации — `4xx` (фиксируем точное значение по факту).

- После удаления `GET` по тому же `id` возвращает отсутствие ресурса (`404`).


## 3. Нефункциональные требования

- **Схема ответа:** структуры Pet/Order соответствуют JSON-схеме (по крайней мере — обязательные поля).

- **Идемпотентность чтения:** повторный `GET` без изменений возвращает неизменённый ресурс.

- **Диагностика ошибок:** в ответах на `4xx` присутствует информативное сообщение/причина (если сервис отдаёт).


## 4. Подготовка данных

- Генерация уникальных `id` для Pet/Order (например, префикс + timestamp).

- Очистка: удалять созданные ресурсы в конце сценариев, когда применимо.


## 5. Ожидаемые артефакты (на выходе)

- **Чек-лист** покрытий по полям и операциям (короткие пункты).

- **6–8 тест-кейсов** (IDs, шаги, ожидаемые результаты).

- Раздел _Отклонения/неопределённости_ — всё, что обнаружишь в демо-API.

## 6. Критерии приёмки (Definition of Done)

- Есть чек-лист и минимум 6–8 кейсов в этом документе.

- По каждому кейсу понятны: цель, шаги, ожидаемое.

- Зафиксированы неоднозначности/нестабильности демо-API (если встретил).

- Документ добавлен в репозиторий в `testing/petstore-xray.md`.